<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TicketMaestro</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>TicketMaestro</h1>
    </header>
    <nav>
        <ul>
            <li><a id="nav-create-wallet" href="#create-wallet">Create Wallet</a></li>
            <li><a id="nav-view-balance" href="#view-balance">View Balance</a></li>
            <li><a id="nav-buy-ticket" href="#buy-ticket">Buy Ticket</a></li>
            <li><a id="nav-transfer-ticket" href="#transfer-ticket">Transfer Ticket</a></li>
        </ul>
    </nav>
    <main>
        <section id="create-wallet" class="tab-content">
            <h2>Create Wallet</h2>
            <div>
                <input type="password" id="password-create" placeholder="Enter a password for your Key Store" >
            </div>
            <div style="padding-top: 1rem;">
                <button id="create-wallet-button">Create Wallet</button>
            </div>
            <div id="wallet-details" style="display: none; margin-top: 1rem;">
                <p><strong>Wallet Address:</strong> <span id="wallet-address"></span></p>
                <p><strong>Private Key:</strong> <span id="wallet-private-key"></span></p>
                <p><strong>Keystore File:</strong> <textarea id="wallet-keystore-file" rows="5" cols="50" readonly="true" style="width: 65%;"></textarea></p>
                <button id="download-wallet-button">Download Wallet</button>
            </div>
        </section>
        <section id="view-balance" class="tab-content" style="display: none;">
            <h2>View Balance</h2>
            <div>
                <label for="view-user-role-select"><strong>Select your role:</strong></label>
                <select id="view-user-role-select">
                    <option value="attendee">Attendee</option>
                    <option value="doorman">Doorman</option>
                    <option value="venue">Venue</option>
                </select>
            </div>
            <div id="wallet-address-input-container">
                <input id="view-wallet-address-input" placeholder="Enter your wallet address." >
            </div>
            <div style="padding-top: 1rem;">
                <button id="view-balance-button">View Balance</button>
            </div>
            <div id="wallet-balance" style="display: none; margin-top: 1rem;">
                <p><strong>Crypto Balance: </strong><span id="crypto-balance"></span></p>
                <p><strong>Ticket token Balance: </strong><span id="ticket-balance"></span></p>
            </div>
            <div id="venue-balance" style="display: none; margin-top: 1rem;">
                <p><strong>Remaining Supply: </strong><span id="venue-balance-span"></span></p>
            </div>
            <div id="doorman-check" style="display: none; margin-top: 1rem;">
                <p><strong>Has Ticket: </strong><span id="doorman-span"></span></p>
            </div>
        </section>
        <section id="buy-ticket" class="tab-content" style="display: none;">
            <h2>Buy Ticket</h2>
            <div>
                <label for="buy-keystore-file"><strong>Upload Keystore File:</strong></label>
                <input type="file" id="buy-keystore-file" accept="application/json">
            </div>
            <div style="margin-top: 1rem;">
                <input type="password" id="buy-keystore-password" placeholder="Enter your keystore password">
            </div>
            <div style="margin-top: 1rem;">
                <button id="load-wallet-button">Load Wallet</button>
            </div>
            <div id="wallet-info" style="display:none; margin-top:1rem;">
                <strong>Wallet Address:</strong> <span id="buy-wallet-address"></span>
            </div>
            <div style="margin-top: 1rem;">
                <input type="number" id="buy-eth-amount" placeholder="ETH to spend (e.g. 0.01)" min="0" step="0.0001">
            </div>
            <div style="margin-top: 1rem;">
                <button id="buy-ticket-button">Buy Ticket</button>
            </div>
            <div id="buy-ticket-request" style="margin-top: 1rem; display: none;">
                <strong>Transaction Request:</strong>
                <pre id="buy-ticket-request-json"></pre>
            </div>
            <div id="buy-ticket-result" style="margin-top: 1rem; display: none;">
                <strong>Transaction Result:</strong>
                <pre id="buy-ticket-result-json"></pre>
            </div>
        </section>
        <section id="transfer-ticket" class="tab-content" style="display: none;">
            <h2>Transfer Ticket Back to Vendor</h2>
            <div>
                <label for="transfer-keystore-file"><strong>Upload Keystore File:</strong></label>
                <input type="file" id="transfer-keystore-file" accept="application/json">
            </div>
            <div style="margin-top: 1rem;">
                <input type="password" id="transfer-keystore-password" placeholder="Enter your keystore password">
            </div>
            <div style="margin-top: 1rem;">
                <button id="load-transfer-wallet-button">Load Wallet</button>
            </div>
            <div id="transfer-wallet-info" style="display:none; margin-top:1rem;">
                <strong>Wallet Address:</strong> <span id="transfer-wallet-address"></span>
            </div>
            <div style="margin-top: 1rem;">
                <button id="transfer-ticket-button">Return Ticket to Vendor</button>
            </div>
            <div id="transfer-ticket-request" style="margin-top: 1rem; display: none;">
                <strong>Transaction Request:</strong>
                <pre id="transfer-ticket-request-json"></pre>
            </div>
            <div id="transfer-ticket-result" style="margin-top: 1rem; display: none;">
                <strong>Transaction Result:</strong>
                <pre id="transfer-ticket-result-json"></pre>
            </div>
        </section>
    </main>
</body>
    <script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.min.js"></script>
    <script src="config.js"></script>
    <script src="ui.js"></script>
    <script src="wallet.js"></script>
    <script src="balance.js"></script>
    <script src="main.js"></script>
    <script src="buyticket.js"></script>
    <script src="transferticket.js"></script>
</html>